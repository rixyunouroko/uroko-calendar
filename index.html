<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Uroko Calendar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#fff6e9;
  --card:#ffffff;
  --accent:#e1b76a;
  --soft:#f5d7a5;
  --text:#3a2a1a;
  --sub:#7a6a55;
  --shadow:0 8px 18px rgba(0,0,0,.08);
  --radius:20px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Maru Gothic ProN","Noto Sans JP",sans-serif;
  background:radial-gradient(circle at top,#fffaf0 0,var(--bg) 55%);
  color:var(--text);
}
header{
  text-align:center;
  padding:24px 16px 12px;
}
h1{
  margin:0;
  font-size:26px;
  letter-spacing:.08em;
}
.date{
  margin-top:6px;
  font-size:14px;
  color:var(--sub);
}
main{
  max-width:720px;
  margin:0 auto;
  padding:0 16px 40px;
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:18px;
  margin-bottom:18px;
  box-shadow:var(--shadow);
}
.card h2{
  margin:0 0 6px;
  font-size:16px;
  letter-spacing:.08em;
}
.badge{
  display:inline-block;
  font-size:11px;
  padding:3px 10px;
  border-radius:999px;
  background:var(--soft);
  margin-bottom:8px;
}
.body{
  font-size:14px;
  line-height:1.65;
  white-space:pre-line;
}
.small{
  font-size:12px;
  color:var(--sub);
}
input[type="date"]{
  padding:4px 10px;
  border-radius:999px;
  border:1px solid #ccc;
  font-size:13px;
}
button{
  border:none;
  border-radius:999px;
  padding:4px 14px;
  background:var(--accent);
  color:#fff;
  font-size:12px;
}
</style>
</head>

<body>
<header>
  <h1>Uroko Calendar</h1>
  <div class="date" id="today"></div>
</header>

<main>

<!-- ① ツォルキン -->
<section class="card">
  <h2>ツォルキンの表と裏</h2>
  <div class="badge">一般向けマヤ暦</div>
  <div class="body" id="tzFront"></div>
  <div class="body" id="tzBack"></div>
</section>

<!-- ② ウロコ暦 -->
<section class="card">
  <h2>ウロコ暦の表と裏</h2>
  <div class="badge">しらの専用</div>
  <div class="body" id="uFront"></div>
  <div class="body" id="uBack"></div>
</section>

<!-- ③ 13日間 -->
<section class="card">
  <h2>いま流れている13日間</h2>
  <div class="badge">ウェイブスペル</div>
  <div class="body" id="waveInfo"></div>
</section>

<!-- ④ 説明 -->
<section class="card">
  <h2>音・紋章・ツォルキン暦とは</h2>
  <div class="body">
マヤ暦（ツォルキン）は「13の音 × 20の紋章」で260日を巡る暦です。
音はその日のリズム、紋章はテーマや性質を表します。

表は「外で動きやすい流れ」、
裏は「本能や無意識で出やすい動き」。

どちらも合わせて読むことで、
その日の全体像が見えてきます。
  </div>
</section>

<!-- ⑤ 誕生日 -->
<section class="card">
  <h2>誕生日から調べる</h2>
  <div class="badge">ツォルキン</div>
  <input type="date" id="birth">
  <button onclick="calcBirth()">検索</button>
  <div class="body" id="birthResult"></div>
</section>

</main>

<script>
const signs=["ワニ","風","夜","トカゲ","蛇","死","シカ","ウサギ","水","犬","猿","道","コーン","ジャガー","ワシ","コンドル","香","ナイフ","嵐","祖先"];
const tones=[1,2,3,4,5,6,7,8,9,10,11,12,13];

function mod(n,m){return((n%m)+m)%m}

const base=new Date(2025,11,10); // 音9 香
const baseTone=9;
const baseSign=16;

function getKin(d){
  const diff=Math.round((d-base)/86400000);
  const tone=tones[mod(baseTone-1+diff,13)];
  const sign=signs[mod(baseSign+diff,20)];
  return{tone,sign,diff}
}

function init(){
  const today=new Date();
  document.getElementById("today").textContent=today.toLocaleDateString("ja-JP");

  const k=getKin(today);
  document.getElementById("tzFront").textContent=`【表】音${k.tone}・${k.sign}`;
  document.getElementById("tzBack").textContent=`【裏】本能に${k.sign}が出やすい`;

  document.getElementById("uFront").textContent=`【表】しらの用 音${k.tone}・${k.sign}`;
  document.getElementById("uBack").textContent=`【裏】ウロコ的${k.sign}`;

  const dayInWave=mod(k.tone-1,13)+1;
  const start=new Date(today);
  start.setDate(today.getDate()-(dayInWave-1));
  const end=new Date(start);
  end.setDate(start.getDate()+12);

  document.getElementById("waveInfo").textContent=
`開始：${start.toLocaleDateString("ja-JP")}
終了：${end.toLocaleDateString("ja-JP")}
今日は ${dayInWave} / 13 日目`;
}

function calcBirth(){
  const v=document.getElementById("birth").value;
  if(!v)return;
  const d=new Date(v);
  const k=getKin(d);
  document.getElementById("birthResult").textContent=
`あなたは 音${k.tone}・${k.sign} 生まれ`;
}

init();
</script>
</body>
</html>