<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uroko Calendar</title>

<style>
body {
  font-family: "Hiragino Sans", "Noto Sans JP", sans-serif;
  background: #f5f0e6;
  margin: 0;
  padding: 0;
}

#app {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}

.title {
  text-align: center;
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 4px;
}

.subtitle {
  text-align: center;
  font-size: 1.1rem;
  color: #555;
  margin-bottom: 20px;
}

.section {
  background: #fff;
  padding: 20px;
  border-radius: 16px;
  margin-bottom: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.section h2 {
  font-size: 1.2rem;
  margin-bottom: 10px;
}

.tag {
  display: inline-block;
  font-size: 0.75rem;
  background: #efe1c7;
  color: #6b5a3c;
  padding: 4px 10px;
  border-radius: 999px;
  margin-bottom: 10px;
}

.block {
  margin-top: 12px;
}

.block h3 {
  font-size: 0.95rem;
  color: #6b5a3c;
  margin-bottom: 4px;
}

.card {
  background: #fffaf0;
  padding: 14px;
  border-radius: 12px;
  line-height: 1.7;
}

.card.back {
  background: #ffecec;
}

.wave {
  background: #f0f6ff;
}

#birthdayResult {
  margin-top: 15px;
  background: #fffceb;
  padding: 15px;
  border-radius: 12px;
  line-height: 1.7;
}
</style>
</head>

<body>
<div id="app">

<h1 class="title">Uroko Calendar</h1>
<p class="subtitle" id="todayDate"></p>

<!-- ツォルキン暦 -->
<div class="section">
  <h2>ツォルキン暦</h2>
  <span class="tag">本日の音と紋章</span>

  <div class="block">
    <h3>今日のテーマ（表）</h3>
    <div class="card" id="tFront"></div>
  </div>

  <div class="block">
    <h3>本能・無意識（裏）</h3>
    <div class="card back" id="tBack"></div>
  </div>

  <div class="block">
    <h3>この13日間のテーマ（ウェイブスペル）</h3>
    <div class="card wave" id="tWave"></div>
    <p id="tWaveInfo"></p>
  </div>
</div>

<!-- ウロコ暦 -->
<div class="section">
  <h2>ウロコ暦</h2>
  <span class="tag">本日の音と紋章</span>

  <div class="block">
    <h3>今日のテーマ（表）</h3>
    <div class="card" id="uFront"></div>
  </div>

  <div class="block">
    <h3>本能・影（裏）</h3>
    <div class="card back" id="uBack"></div>
  </div>

  <div class="block">
    <h3>この13日間のテーマ（ウロコ暦）</h3>
    <div class="card wave" id="uWave"></div>
    <p id="uWaveInfo"></p>
 </div>
</div>
<!-- 解説 -->
<div class="section">
  <h2>音・紋章・ツォルキン暦とは</h2>
  <p>
    マヤ暦（ツォルキン）は「13の音 × 20の紋章」で260日を巡る暦です。<br>
    音はその日のリズム、紋章はテーマや性質を表します。
  </p>
  <p>
    表は「外で動きやすい流れ」、<br>
    裏は「本能や無意識で出やすい動き」。
  </p>
  <p>
    両方あわせて読むことで、その日の全体像が見えてきます。
  </p>
</div>

<!-- 誕生日検索 -->
<div class="section">
  <h2>誕生日から調べる（ツォルキン）</h2>
  <input type="date" id="bInput">
  <button onclick="searchBirthday()">検索</button>
  <div id="birthdayResult"></div>
</div>

</div>

<script>
/* ===== 基本データ ===== */
const glyphNames = [
  "ワニ","風","夜","トカゲ","蛇","死","シカ","ウサギ","水","犬",
  "猿","道","コーン","ジャガー","ワシ","コンドル","香","ナイフ","嵐","祖先"
];

const toneNames = [
  "音1","音2","音3","音4","音5","音6","音7",
  "音8","音9","音10","音11","音12","音13"
];
const glyphTexts = {
  ワニ: {
    front: "はじまりと安心をつくる日。大きく動かなくても、少し触れてみるだけで流れが生まれます。準備や下地づくりを意識すると、気持ちも落ち着きますよ。",
    back: "守りたい気持ちが強くなりやすい日。慣れた場所に戻りたくなることもありますが、それも自然な反応です。安心を確かめながら進めば大丈夫ですよ。"
  },
  風: {
    front: "言葉ややりとりが軽やかに動く日。話す・書く・伝えることで空気が整っていきます。深呼吸を挟むだけでも流れが変わりますよ。",
    back: "言葉が先に出やすい日。本音と軽口が混ざりやすいので、少し間を取ると安心です。"
  },
  夜: {
    front: "内側の世界が広がる日。ひとり時間や想像の中にヒントが見つかります。無理に外へ出なくても大丈夫ですよ。",
    back: "不安が膨らみやすい日。暗くなりすぎたら、あたたかさや光を足してあげてください。"
  },
  トカゲ: {
    front: "可能性の種に気づきやすい日。小さな「気になる」を拾っておくと後で役に立ちます。欲や衝動もヒントになりますよ。",
    back: "欲と不安が同時に動きやすい日。急がず、少量ずつ確かめるくらいがちょうどいいです。"
  },
  蛇: {
    front: "体の感覚が大切な日。休む・動く・温めるなど、身体に意識を向けると整いますよ。",
    back: "感情が強めに出やすい日。抑え込まず、やさしい発散を選ぶと安心です。"
  },
  死: {
    front: "区切りや手放しを考える日。全部終わらせなくても、候補を出すだけで十分ですよ。",
    back: "一気に切りたくなる日。今日は決断を急がなくても大丈夫です。"
  },
  シカ: {
    front: "手を動かすことで心が整う日。丁寧な作業や身近なサポートが力になりますよ。",
    back: "頑張りすぎに注意。自分の限界を先に決めておくと安心です。"
  },
  ウサギ: {
    front: "楽しさや美しさに目が向く日。小さな喜びを選ぶことで気持ちが明るくなりますよ。",
    back: "やりすぎると疲れが出やすい日。ほどほどを意識すると整います。"
  },
  水: {
    front: "感情が動きやすい日。泣く・書く・話すことで心が流れていきますよ。",
    back: "人の感情を受け取りすぎやすい日。今日は自分の気持ちを優先して大丈夫です。"
  },
  犬: {
    front: "大切な存在とのつながりを感じる日。感謝や好意を伝えると温まりますよ。",
    back: "不安や独占欲が出やすい日。気持ちを認めるだけでも落ち着きます。"
  },
  猿: {
    front: "遊び心やひらめきが動く日。少しふざけるくらいが良い刺激になりますよ。",
    back: "現実逃避に寄りやすい日。大事なことだけは意識に残しておいてください。"
  },
  道: {
    front: "日常の選択を見直す日。小さな選び方が先の流れにつながりますよ。",
    back: "人のペースに合わせすぎやすい日。自分の感覚を確認すると安心です。"
  },
  コーン: {
    front: "成長や土台を意識する日。自分なりの立ち方を考えるのに向いています。",
    back: "過去の型に引っ張られやすい日。少しだけ違うやり方を試してみてください。"
  },
  ジャガー: {
    front: "感覚が鋭くなる日。静かな場所や自分の領域を大切にすると整いますよ。",
    back: "敏感になりすぎやすい日。情報を減らす選択も助けになります。"
  },
  ワシ: {
    front: "物事を俯瞰しやすい日。少し先のことを考えると道筋が見えますよ。",
    back: "理想が高くなりすぎやすい日。今できていることにも目を向けてください。"
  },
  コンドル: {
    front: "経験や知恵を振り返る日。過去の出来事が別の意味を持って見えてきます。",
    back: "反省に偏りすぎないでください。学びとして受け取れれば十分ですよ。"
  },
  香: {
    front: "リズムや現実感覚を整える日。自然や身体に触れると落ち着きますよ。",
    back: "考えすぎて疲れやすい日。今日はゆっくりで大丈夫です。"
  },
  ナイフ: {
    front: "整理や選別に向く日。残すものを見極める意識が助けになります。",
    back: "判断が鋭くなりやすい日。切る対象を丁寧に選んでください。"
  },
  嵐: {
    front: "変化が起きやすい日。揺れの中で不要なものが流れていきますよ。",
    back: "感情が荒れやすい日。一呼吸置くだけで落ち着きます。"
  },
  祖先: {
    front: "一区切りや達成を感じる日。ここまでの自分をねぎらってください。",
    back: "終わりを認めにくい日。小さな「できた」で十分ですよ。"
  }
};
/* ===== 起点 ===== */
// ツォルキン（一般）
const t_startDate  = new Date("1987-05-14");
const t_startTone  = 11;
const t_startGlyph = 7;

// ウロコ暦（しらの流）
const u_startDate  = new Date("2025-09-02");
const u_startTone  = 1;
const u_startGlyph = 3; // 夜

/* ===== サイクル計算 ===== */
function calcCycle(date, startDate, startTone, startGlyph) {
  const diff = Math.floor((date - startDate) / 86400000);
  const day = (diff % 260 + 260) % 260;
  return {
    tone: ((startTone - 1 + day) % 13) + 1,
    glyph: ((startGlyph - 1 + day) % 20) + 1,
    cycleDay: (day % 13) + 1,
    waveStart: new Date(date.getTime() - ((day % 13) * 86400000))
  };
}

/* ===== 表示更新 ===== */
function updateToday() {
  const today = new Date();

  document.getElementById("todayDate").textContent =
    today.toLocaleDateString("ja-JP", { year:"numeric", month:"long", day:"numeric" });

  const t = calcCycle(today, t_startDate, t_startTone, t_startGlyph);
  const u = calcCycle(today, u_startDate, u_startTone, u_startGlyph);



// --- ツォルキン表示 ---
const tGlyphName = glyphNames[t.glyph - 1];

document.getElementById("tFront").textContent =
  glyphTexts[tGlyphName].front;

document.getElementById("tBack").textContent =
  glyphTexts[tGlyphName].back;

document.getElementById("tWave").textContent =
  `${tGlyphName}の13日間`;
const waveTexts = {
  ワニ: "安心できる土台を整える13日間です。急がず、居場所や準備を見直すだけでも十分ですよ。",
  風: "言葉や情報の流れを整える13日間です。伝える・聞くを丁寧にすると、空気が軽くなります。",
  夜: "内側の世界を育てる13日間です。想像やひとり時間の中にヒントがあります。",
  トカゲ: "可能性の種に気づく13日間です。小さな欲や違和感を無視しないでみてください。",
  蛇: "感覚や生命力を大切にする13日間です。体の声を聞くことが助けになります。",
  死: "手放しや区切りを意識する13日間です。終わらせきれなくても大丈夫ですよ。",
  シカ: "整え、支える13日間です。丁寧さが流れを安定させてくれます。",
  ウサギ: "喜びや美しさを感じる13日間です。楽しいと思える方を選んでみてください。",
  水: "感情の流れを感じる13日間です。溜めずに流すことを意識すると楽になります。",
  犬: "つながりや信頼を育てる13日間です。大切な存在との距離を感じてみてください。",
  猿: "遊び心と発想を広げる13日間です。少し肩の力を抜くと道が見えます。",
  道: "選択と日常を見直す13日間です。自分のペースを基準にして大丈夫ですよ。",
  コーン: "成長と基盤を育てる13日間です。積み重ねてきたものを信頼してください。",
  ジャガー: "感覚を研ぎ澄ます13日間です。静かな時間が力をくれます。",
  ワシ: "視点を高く持つ13日間です。全体を見ることで安心できます。",
  コンドル: "経験を統合する13日間です。過去を責めず、学びとして受け取ってください。",
  香: "現実感覚とリズムを整える13日間です。足元を感じると落ち着きます。",
  ナイフ: "整理と選別を進める13日間です。残すものを意識すると迷いが減ります。",
  嵐: "変化と浄化の13日間です。揺れの中でも、必要なものは残ります。",
  祖先: "一区切りと達成の13日間です。ここまで来た自分をねぎらってください。"
};
document.getElementById("tWaveInfo").textContent =
  `今日は ${t.cycleDay} / 13 日目`;
  // --- ウロコ暦表示 ---
  const uGlyphName = glyphNames[u.glyph - 1];

document.getElementById("uFront").textContent =
  glyphTexts[uGlyphName].front;

document.getElementById("uBack").textContent =
  glyphTexts[uGlyphName].back;

  // --- ★ウロコ暦13日間 ---
  const uWaveStart = new Date(today.getTime() - (u.cycleDay - 1) * 86400000);
  const uWaveEnd   = new Date(uWaveStart.getTime() + 12 * 86400000);

  document.getElementById("uWave").textContent =
    `${glyphNames[u.glyph-1]}の13日間（ウロコ暦）`;

  document.getElementById("uWaveInfo").textContent =
    `開始：${uWaveStart.toLocaleDateString("ja-JP")} ／ 終了：${uWaveEnd.toLocaleDateString("ja-JP")}
今日は ${u.cycleDay} / 13 日目`;
}

/* ===== 誕生日検索 ===== */
function searchBirthday() {
  const input = document.getElementById("bInput").value;
  if (!input) return;
  const d = calcCycle(new Date(input), t_startDate, t_startTone, t_startGlyph);
  document.getElementById("birthdayResult").innerHTML =
    `あなたは <b>${toneNames[d.tone-1]}・${glyphNames[d.glyph-1]}</b> 生まれ`;
}

document.addEventListener("DOMContentLoaded", updateToday);
</script>
</body>
</html>